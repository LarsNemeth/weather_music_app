{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/DCI_Projekte/weather_music_app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, createContext } from 'react'; // Import Styles\n\nimport './styles/app.scss'; // Import Components\n\nimport Player from './components/Player';\nimport Song from './components/Song';\nimport Library from './components/Library';\nimport Nav from './components/Nav';\nimport Weather from './components/weatherComponents/Weather'; //Import Util\n\nimport data from './data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //! Ref (introducing the html-refernce function with useRef)\n  const audioRef = useRef(null); // The initial (starting) value is set to \"null\"\n  //State\n\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false); //! State For Time (aktuell)\n\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n    animationPercentage: 0\n  }); //! Library State\n\n  const [libraryStatus, setLibraryStatus] = useState(false); //! Weather State\n\n  const [weatherStatus, setWeatherStatus] = useState(false); //! Time Update\n\n  const timeUpdateHandler = e => {\n    const current = e.target.currentTime;\n    const duration = e.target.duration; //! Berechnung der Prozent des Fortschrittsbalken\n\n    const roundedCurrent = Math.round(current);\n    const roundedDuration = Math.round(duration);\n    const animation = Math.round(roundedCurrent / roundedDuration * 100);\n    console.log(animation);\n    setSongInfo({ ...songInfo,\n      currentTime: current,\n      duration,\n      animationPercentage: animation\n    });\n    console.log(current);\n  }; //! Wenn der Song endet spiele den nächsten // Brauchen wir nicht beim Streamen ggf. bei Wetterwechsel\n  // const songEndHandler = async () => {\n  //   let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n  //   await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n  //   if (isPlaying) audioRef.current.play();\n  // };\n  //* return ************\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `App ${libraryStatus ? 'library-active' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `App ${weatherStatus ? 'weather-active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        libraryStatus: libraryStatus,\n        setLibraryStatus: setLibraryStatus,\n        weatherStatus: weatherStatus,\n        setWeatherStatus: setWeatherStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Song, {\n        currentSong: currentSong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Player, {\n        audioRef: audioRef,\n        setIsPlaying: setIsPlaying,\n        isPlaying: isPlaying,\n        currentSong: currentSong,\n        setSongInfo: setSongInfo,\n        songInfo: songInfo,\n        songs: songs,\n        setSongs: setSongs,\n        setCurrentSong: setCurrentSong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Weather, {\n        weatherStatus: weatherStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Library, {\n        audioRef: audioRef,\n        songs: songs,\n        setCurrentSong: setCurrentSong,\n        isPlaying: isPlaying,\n        setSongs: setSongs,\n        libraryStatus: libraryStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        onTimeUpdate: timeUpdateHandler,\n        onLoadedMetadata: timeUpdateHandler,\n        ref: audioRef,\n        src: currentSong.audio //! Skip to the next song if ended // Brauchen wir (noch nicht)\n        // onEnded={songEndHandler}\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"eutfG9LUnF+FZPxeXdZor2Kn7E8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/user/Desktop/DCI_Projekte/weather_music_app/src/App.js"],"names":["React","useState","useRef","createContext","Player","Song","Library","Nav","Weather","data","App","audioRef","songs","setSongs","currentSong","setCurrentSong","isPlaying","setIsPlaying","songInfo","setSongInfo","currentTime","duration","animationPercentage","libraryStatus","setLibraryStatus","weatherStatus","setWeatherStatus","timeUpdateHandler","e","current","target","roundedCurrent","Math","round","roundedDuration","animation","console","log","audio"],"mappings":"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","sourcesContent":["import React, { useState, useRef, createContext } from 'react';\n\n// Import Styles\nimport './styles/app.scss';\n\n// Import Components\nimport Player from './components/Player';\nimport Song from './components/Song';\nimport Library from './components/Library';\nimport Nav from './components/Nav';\nimport Weather from './components/weatherComponents/Weather';\n\n//Import Util\nimport data from './data';\n\nfunction App() {\n\n  //! Ref (introducing the html-refernce function with useRef)\n  const audioRef = useRef(null); // The initial (starting) value is set to \"null\"\n  //State\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  //! State For Time (aktuell)\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n    animationPercentage: 0,\n  });\n\n  //! Library State\n  const [libraryStatus, setLibraryStatus] = useState(false);\n\n  //! Weather State\n  const [weatherStatus, setWeatherStatus] = useState(false);\n\n  //! Time Update\n  const timeUpdateHandler = (e) => {\n    const current = e.target.currentTime;\n    const duration = e.target.duration;\n\n    //! Berechnung der Prozent des Fortschrittsbalken\n    const roundedCurrent = Math.round(current);\n    const roundedDuration = Math.round(duration);\n    const animation = Math.round((roundedCurrent / roundedDuration) * 100);\n    console.log(animation);\n\n    setSongInfo({\n      ...songInfo,\n      currentTime: current,\n      duration,\n      animationPercentage: animation,\n    });\n    console.log(current);\n  };\n\n  //! Wenn der Song endet spiele den nächsten // Brauchen wir nicht beim Streamen ggf. bei Wetterwechsel\n  // const songEndHandler = async () => {\n  //   let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n  //   await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n  //   if (isPlaying) audioRef.current.play();\n  // };\n\n  //* return ************\n  return (\n    <div className={`App ${libraryStatus ? 'library-active' : ''}`}>\n      <div className={`App ${weatherStatus ? 'weather-active' : ''}`}>\n        <Nav\n          libraryStatus={libraryStatus}\n          setLibraryStatus={setLibraryStatus}\n          weatherStatus={weatherStatus}\n          setWeatherStatus={setWeatherStatus}\n        />\n        <Song currentSong={currentSong} />\n        <Player\n          audioRef={audioRef}\n          setIsPlaying={setIsPlaying}\n          isPlaying={isPlaying}\n          currentSong={currentSong}\n          setSongInfo={setSongInfo}\n          songInfo={songInfo}\n          songs={songs}\n          setSongs={setSongs}\n          setCurrentSong={setCurrentSong}\n        />\n        <Weather weatherStatus={weatherStatus}  />\n        <Library\n          audioRef={audioRef}\n          songs={songs}\n          setCurrentSong={setCurrentSong}\n          isPlaying={isPlaying}\n          setSongs={setSongs}\n          libraryStatus={libraryStatus}\n        />\n        <audio\n          onTimeUpdate={timeUpdateHandler}\n          onLoadedMetadata={timeUpdateHandler}\n          ref={audioRef}\n          src={currentSong.audio}\n          //! Skip to the next song if ended // Brauchen wir (noch nicht)\n          // onEnded={songEndHandler}\n        ></audio>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}